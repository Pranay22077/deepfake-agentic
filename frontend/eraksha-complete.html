<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Raksha - Intelligent Video Authenticity Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        
        /* Theme Variables */
        :root {
            --background: #ffffff;
            --foreground: #030213;
            --card: #ffffff;
            --card-foreground: #030213;
            --primary: #3B82F6;
            --primary-foreground: #ffffff;
            --secondary: #f1f5f9;
            --secondary-foreground: #030213;
            --muted: #f8fafc;
            --muted-foreground: #64748b;
            --accent: #f1f5f9;
            --accent-foreground: #030213;
            --border: rgba(0, 0, 0, 0.1);
            --input: #f8fafc;
            --ring: #3B82F6;
            --radius: 0.625rem;
        }
        
        .dark {
            --background: #0f172a;
            --foreground: #f8fafc;
            --card: #1e293b;
            --card-foreground: #f8fafc;
            --primary: #60a5fa;
            --primary-foreground: #1e293b;
            --secondary: #334155;
            --secondary-foreground: #f8fafc;
            --muted: #334155;
            --muted-foreground: #94a3b8;
            --accent: #334155;
            --accent-foreground: #f8fafc;
            --border: #334155;
            --input: #334155;
            --ring: #60a5fa;
        }
        
        /* Apply theme colors */
        body {
            background-color: var(--background);
            color: var(--foreground);
        }
        
        .bg-card { background-color: var(--card); }
        .text-card-foreground { color: var(--card-foreground); }
        .bg-primary { background-color: var(--primary); }
        .text-primary-foreground { color: var(--primary-foreground); }
        .bg-secondary { background-color: var(--secondary); }
        .text-secondary-foreground { color: var(--secondary-foreground); }
        .bg-muted { background-color: var(--muted); }
        .text-muted-foreground { color: var(--muted-foreground); }
        .border-border { border-color: var(--border); }
        
        @keyframes blob {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
        }
        
        .animate-blob { animation: blob 7s infinite; }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }
        
        .backdrop-blur-xl { backdrop-filter: blur(24px); }
        .backdrop-blur-md { backdrop-filter: blur(12px); }
        
        .progress-bar {
            background: linear-gradient(90deg, var(--primary) 0%, #1D4ED8 100%);
            transition: width 0.3s ease;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .dark .glass-card {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Light theme specific styles */
        :root:not(.dark) {
            --gradient-from: #f0f4ff;
            --gradient-via: #e0f2fe;
            --gradient-to: #ecfeff;
        }
        
        .dark {
            --gradient-from: #0f172a;
            --gradient-via: #1e3a8a;
            --gradient-to: #581c87;
        }
    </style>
</head>
<body class="min-h-screen transition-colors relative overflow-x-hidden" style="background: linear-gradient(135deg, var(--gradient-from, #f0f4ff) 0%, var(--gradient-via, #e0f2fe) 50%, var(--gradient-to, #ecfeff) 100%);">
    <!-- Animated gradient background -->
    <div class="fixed inset-0 opacity-20 dark:opacity-30 pointer-events-none">
        <div class="absolute top-0 left-0 w-96 h-96 bg-blue-300 dark:bg-purple-600 rounded-full mix-blend-multiply filter blur-3xl animate-blob"></div>
        <div class="absolute top-0 right-0 w-96 h-96 bg-purple-300 dark:bg-blue-600 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-2000"></div>
        <div class="absolute bottom-0 left-1/2 w-96 h-96 bg-cyan-300 dark:bg-cyan-600 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-4000"></div>
    </div>

    <div class="relative z-10">
        <!-- Navigation -->
        <nav class="fixed top-6 left-1/2 -translate-x-1/2 z-50 w-[90%] max-w-5xl">
            <div class="glass-card rounded-2xl shadow-lg px-8 py-4">
                <div class="flex items-center justify-between">
                    <!-- Logo -->
                    <div class="flex items-center gap-2 cursor-pointer" onclick="showPage('home')">
                        <i data-lucide="camera" class="w-6 h-6 text-blue-600 dark:text-blue-400"></i>
                        <span class="text-xl font-semibold" style="color: var(--foreground)">E-Raksha</span>
                    </div>

                    <!-- Navigation Links -->
                    <div class="flex items-center gap-8">
                        <a href="#" onclick="showPage('home')" class="nav-link text-sm font-medium transition-colors text-blue-600 dark:text-blue-400">Home</a>
                        <a href="#" onclick="showPage('workbench')" class="nav-link text-sm font-medium transition-colors hover:text-blue-600 dark:hover:text-blue-400" style="color: var(--muted-foreground)">Analysis</a>
                        <a href="#" onclick="showPage('dashboard')" class="nav-link text-sm font-medium transition-colors hover:text-blue-600 dark:hover:text-blue-400" style="color: var(--muted-foreground)">Dashboard</a>
                        <a href="#" onclick="showPage('analytics')" class="nav-link text-sm font-medium transition-colors hover:text-blue-600 dark:hover:text-blue-400" style="color: var(--muted-foreground)">Statistics</a>
                        <a href="#" onclick="showPage('contact')" class="nav-link text-sm font-medium transition-colors hover:text-blue-600 dark:hover:text-blue-400" style="color: var(--muted-foreground)">Contact</a>

                        <!-- Theme Toggle -->
                        <button onclick="toggleTheme()" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors" aria-label="Toggle theme">
                            <i data-lucide="moon" class="w-5 h-5 theme-icon-light" style="color: var(--muted-foreground)"></i>
                            <i data-lucide="sun" class="w-5 h-5 theme-icon-dark hidden" style="color: var(--muted-foreground)"></i>
                        </button>
                    </div>
                </div>
            </div>
        </nav>
        <!-- Home Page -->
        <div id="home-page" class="page-content">
            <!-- Hero Section -->
            <section class="min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8">
                <div class="max-w-5xl mx-auto text-center">
                    <h1 class="text-5xl md:text-6xl lg:text-7xl font-bold mb-2 leading-tight" style="color: var(--foreground)">
                        Intelligent Video
                    </h1>
                    <h1 class="text-5xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight">
                        <span style="color: var(--foreground)">Authenticity </span>
                        <span class="text-blue-600 dark:text-blue-400">Analysis</span>
                    </h1>
                    <p class="text-base md:text-lg max-w-3xl mx-auto mb-8" style="color: var(--muted-foreground)">
                        Advanced AI-powered agentic system with multiple specialist models for comprehensive deepfake detection. Featuring 45% overall accuracy with balanced real/fake detection and intelligent routing.
                    </p>
                    <div class="flex items-center justify-center gap-4">
                        <button onclick="showPage('workbench')" class="px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors flex items-center gap-2 shadow-lg">
                            Start Analysis
                            <i data-lucide="arrow-right" class="w-4 h-4"></i>
                        </button>
                        <button onclick="showPage('analytics')" class="px-8 py-3 bg-white/50 dark:bg-gray-900/50 backdrop-blur-md hover:bg-white/70 dark:hover:bg-gray-900/70 text-gray-900 dark:text-white rounded-xl transition-colors shadow-lg border border-gray-200 dark:border-gray-800">
                            View Statistics
                        </button>
                    </div>
                </div>
            </section>

            <!-- Features Section -->
            <section class="py-20 px-4 sm:px-6 lg:px-8">
                <div class="max-w-6xl mx-auto">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="glass-card rounded-2xl p-8 hover:shadow-xl transition-shadow">
                            <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400 mb-4">
                                <i data-lucide="shield-check" class="w-6 h-6"></i>
                            </div>
                            <h3 class="text-xl font-semibold mb-2" style="color: var(--foreground)">Agentic AI System</h3>
                            <p style="color: var(--muted-foreground)">Multi-specialist model architecture with intelligent routing: BG, CM, RR, LL, and TM models working together</p>
                        </div>
                        <div class="glass-card rounded-2xl p-8 hover:shadow-xl transition-shadow">
                            <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400 mb-4">
                                <i data-lucide="eye" class="w-6 h-6"></i>
                            </div>
                            <h3 class="text-xl font-semibold mb-2" style="color: var(--foreground)">Comprehensive Analysis</h3>
                            <p style="color: var(--muted-foreground)">Detailed confidence scoring, model routing decisions, and transparent explanations for every prediction</p>
                        </div>
                        <div class="glass-card rounded-2xl p-8 hover:shadow-xl transition-shadow">
                            <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400 mb-4">
                                <i data-lucide="zap" class="w-6 h-6"></i>
                            </div>
                            <h3 class="text-xl font-semibold mb-2" style="color: var(--foreground)">Fast Processing</h3>
                            <p style="color: var(--muted-foreground)">Average processing time of 3 seconds with bias-corrected predictions and balanced accuracy</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Stats Section -->
            <section class="py-20 px-4 sm:px-6 lg:px-8">
                <div class="max-w-6xl mx-auto">
                    <div class="glass-card rounded-2xl p-12">
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-8 text-center">
                            <div>
                                <p class="text-4xl font-bold text-blue-600 dark:text-blue-400 mb-2" id="total-videos">1,247</p>
                                <p style="color: var(--muted-foreground)">Videos Analyzed</p>
                            </div>
                            <div>
                                <p class="text-4xl font-bold text-blue-600 dark:text-blue-400 mb-2">45%</p>
                                <p style="color: var(--muted-foreground)">Overall Accuracy</p>
                            </div>
                            <div>
                                <p class="text-4xl font-bold text-blue-600 dark:text-blue-400 mb-2">3.0s</p>
                                <p style="color: var(--muted-foreground)">Average Processing</p>
                            </div>
                            <div>
                                <p class="text-4xl font-bold text-blue-600 dark:text-blue-400 mb-2">5</p>
                                <p style="color: var(--muted-foreground)">Specialist Models</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- How It Works -->
            <section class="py-20 px-4 sm:px-6 lg:px-8">
                <div class="max-w-6xl mx-auto">
                    <h2 class="text-3xl font-bold text-center text-gray-900 dark:text-white mb-12">How It Works</h2>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-blue-600 dark:bg-blue-500 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4">1</div>
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Upload Video</h3>
                            <p class="text-gray-600 dark:text-gray-400">Upload your video file (MP4, AVI, MOV, WebM)</p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-blue-600 dark:bg-blue-500 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4">2</div>
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Intelligent Routing</h3>
                            <p class="text-gray-600 dark:text-gray-400">System analyzes video characteristics and routes to appropriate specialists</p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-blue-600 dark:bg-blue-500 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4">3</div>
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Multi-Model Analysis</h3>
                            <p class="text-gray-600 dark:text-gray-400">Specialist models (CM, RR, LL, TM) analyze different aspects</p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-blue-600 dark:bg-blue-500 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4">4</div>
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">Aggregated Results</h3>
                            <p class="text-gray-600 dark:text-gray-400">Bias-corrected predictions with detailed explanations</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CTA Section -->
            <section class="py-20 px-4 sm:px-6 lg:px-8">
                <div class="max-w-4xl mx-auto bg-gradient-to-r from-blue-600 to-blue-700 dark:from-blue-700 dark:to-blue-800 rounded-3xl p-12 text-center shadow-2xl">
                    <h2 class="text-3xl font-bold text-white mb-4">Ready to Analyze Your Videos?</h2>
                    <p class="text-blue-100 mb-8 max-w-2xl mx-auto">
                        Experience the power of our agentic AI system with multiple specialist models working together for comprehensive deepfake detection.
                    </p>
                    <button onclick="showPage('workbench')" class="inline-flex items-center gap-2 px-8 py-3 bg-white hover:bg-gray-100 text-blue-600 rounded-xl transition-colors shadow-lg">
                        Get Started
                        <i data-lucide="arrow-right" class="w-4 h-4"></i>
                    </button>
                </div>
            </section>
        </div>
        <!-- Analysis Workbench Page -->
        <div id="workbench-page" class="page-content hidden">
            <div class="min-h-screen pt-32 pb-20">
                <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                    <!-- Header -->
                    <div class="mb-12">
                        <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">Video Analysis Workbench</h1>
                        <p class="text-gray-600 dark:text-gray-400">
                            Upload your video for comprehensive deepfake detection using our agentic AI system. Supports MP4, AVI, MOV, and WebM up to 100MB.
                        </p>
                    </div>

                    <!-- Upload Section -->
                    <div id="upload-section" class="space-y-8">
                        <div id="drop-zone" class="relative border-2 border-dashed rounded-2xl p-16 transition-all backdrop-blur-md border-gray-300 dark:border-gray-700 bg-white/50 dark:bg-gray-900/50 hover:border-blue-500 hover:bg-blue-50/50 dark:hover:bg-blue-900/20 cursor-pointer">
                            <input type="file" id="video-input" accept="video/mp4,video/avi,video/mov,video/webm" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer">
                            <div class="text-center" id="upload-content">
                                <i data-lucide="upload" class="w-16 h-16 text-gray-400 dark:text-gray-500 mb-4 mx-auto"></i>
                                <p class="text-lg text-gray-900 dark:text-white mb-2">Drag and drop your video or click to browse</p>
                                <p class="text-sm text-gray-500 dark:text-gray-400">Maximum file size: 100MB</p>
                            </div>
                            <div class="text-center hidden" id="file-selected">
                                <i data-lucide="file-video" class="w-16 h-16 text-blue-600 dark:text-blue-400 mb-4 mx-auto"></i>
                                <p class="text-lg text-gray-900 dark:text-white mb-2" id="file-name"></p>
                                <p class="text-sm text-gray-500 dark:text-gray-400" id="file-size"></p>
                            </div>
                        </div>

                        <!-- Processing Progress -->
                        <div id="processing-section" class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-8 hidden">
                            <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-4">Analyzing Video</h2>
                            <div class="space-y-4">
                                <div>
                                    <div class="flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-2">
                                        <span id="processing-status">Initializing analysis...</span>
                                        <span id="progress-percent">0%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                                        <div id="progress-bar" class="progress-bar h-2 rounded-full" style="width: 0%"></div>
                                    </div>
                                </div>
                                <div class="text-sm text-gray-500 dark:text-gray-400" id="processing-details">
                                    Starting agentic analysis system...
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div id="action-buttons" class="flex gap-4">
                            <button id="analyze-btn" onclick="analyzeVideo()" disabled class="flex-1 px-6 py-3 rounded-xl transition-colors shadow-lg bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed">
                                Analyze Video
                            </button>
                            <button id="clear-btn" onclick="clearSelection()" class="px-6 py-3 bg-white/50 dark:bg-gray-900/50 backdrop-blur-md hover:bg-white/70 dark:hover:bg-gray-900/70 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-800 rounded-xl transition-colors hidden">
                                Clear
                            </button>
                        </div>
                    </div>

                    <!-- Results Section -->
                    <div id="results-section" class="space-y-8 hidden">
                        <!-- Results Header -->
                        <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-8">
                            <div class="flex items-center justify-between mb-6">
                                <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Analysis Results</h2>
                                <button onclick="newAnalysis()" class="px-4 py-2 bg-gray-100/50 dark:bg-gray-800/50 backdrop-blur-md hover:bg-gray-200/50 dark:hover:bg-gray-700/50 text-gray-900 dark:text-white rounded-lg transition-colors">
                                    New Analysis
                                </button>
                            </div>

                            <div class="flex items-center gap-4 mb-6">
                                <div id="result-icon" class="w-16 h-16 rounded-full flex items-center justify-center">
                                    <i data-lucide="check-circle-2" class="w-8 h-8"></i>
                                </div>
                                <div>
                                    <p class="text-sm text-gray-600 dark:text-gray-400">Prediction</p>
                                    <p id="prediction-text" class="text-2xl font-bold text-gray-900 dark:text-white capitalize"></p>
                                </div>
                            </div>

                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                <div class="bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-4">
                                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Confidence</p>
                                    <p id="confidence-value" class="text-xl font-semibold text-gray-900 dark:text-white"></p>
                                </div>
                                <div class="bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-4">
                                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Best Model</p>
                                    <p id="best-model" class="text-xl font-semibold text-gray-900 dark:text-white"></p>
                                </div>
                                <div class="bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-4">
                                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Specialists Used</p>
                                    <p id="specialists-count" class="text-xl font-semibold text-gray-900 dark:text-white"></p>
                                </div>
                                <div class="bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-4">
                                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Processing Time</p>
                                    <p id="processing-time" class="text-xl font-semibold text-gray-900 dark:text-white"></p>
                                </div>
                            </div>
                        </div>

                        <!-- Detailed Analysis -->
                        <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-8">
                            <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Detailed Analysis</h3>
                            
                            <!-- Model Predictions -->
                            <div class="mb-6">
                                <h4 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Individual Model Predictions</h4>
                                <div id="model-predictions" class="space-y-3"></div>
                            </div>

                            <!-- Explanation -->
                            <div class="pt-6 border-t border-gray-200 dark:border-gray-800">
                                <h4 class="text-lg font-medium text-gray-900 dark:text-white mb-3">Explanation</h4>
                                <p id="explanation-text" class="text-gray-600 dark:text-gray-400 leading-relaxed"></p>
                            </div>

                            <!-- Specialists Used -->
                            <div class="pt-6 border-t border-gray-200 dark:border-gray-800 mt-6">
                                <h4 class="text-lg font-medium text-gray-900 dark:text-white mb-3">Specialists Engaged</h4>
                                <div id="specialists-list" class="flex flex-wrap gap-2"></div>
                            </div>
                        </div>

                        <!-- Actions -->
                        <div class="flex gap-4">
                            <button class="flex items-center gap-2 px-6 py-3 bg-white/50 dark:bg-gray-900/50 backdrop-blur-md hover:bg-white/70 dark:hover:bg-gray-900/70 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-800 rounded-xl transition-colors">
                                <i data-lucide="download" class="w-4 h-4"></i>
                                Download Report
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Dashboard Page -->
        <div id="dashboard-page" class="page-content hidden">
            <div class="min-h-screen pt-32 pb-20">
                <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                    <!-- Header -->
                    <div class="mb-12">
                        <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">Dashboard</h1>
                        <p class="text-gray-600 dark:text-gray-400">
                            Track your analysis history and monitor detection performance across all specialist models
                        </p>
                    </div>

                    <!-- Stats -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                        <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400">
                                    <i data-lucide="file-video" class="w-5 h-5"></i>
                                </div>
                                <span class="text-sm font-semibold text-green-600 dark:text-green-400">+12%</span>
                            </div>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Total Videos</p>
                            <p class="text-3xl font-bold text-gray-900 dark:text-white" id="dashboard-total-videos">1,247</p>
                        </div>
                        <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400">
                                    <i data-lucide="alert-circle" class="w-5 h-5"></i>
                                </div>
                                <span class="text-sm font-semibold text-green-600 dark:text-green-400">+8%</span>
                            </div>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Detected Fakes</p>
                            <p class="text-3xl font-bold text-gray-900 dark:text-white">342</p>
                        </div>
                        <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400">
                                    <i data-lucide="clock" class="w-5 h-5"></i>
                                </div>
                                <span class="text-sm font-semibold text-green-600 dark:text-green-400">-15%</span>
                            </div>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Avg Processing</p>
                            <p class="text-3xl font-bold text-gray-900 dark:text-white">3.0s</p>
                        </div>
                    </div>

                    <!-- Analysis History -->
                    <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-8">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Recent Analyses</h2>
                        </div>

                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b border-gray-200 dark:border-gray-800">
                                        <th class="text-left py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400">Filename</th>
                                        <th class="text-left py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400">Time</th>
                                        <th class="text-left py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400">Result</th>
                                        <th class="text-left py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400">Confidence</th>
                                        <th class="text-left py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400">Best Model</th>
                                        <th class="text-left py-3 px-4 text-sm font-semibold text-gray-600 dark:text-gray-400">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="analysis-history">
                                    <!-- Analysis history will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Analytics Page -->
        <div id="analytics-page" class="page-content hidden">
            <div class="min-h-screen pt-32 pb-20">
                <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
                    <!-- Header -->
                    <div class="mb-12">
                        <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">Statistics</h1>
                        <p class="text-gray-600 dark:text-gray-400">
                            Monitor usage, accuracy, and system performance across all specialist models in real-time
                        </p>
                    </div>

                    <!-- Stats -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                        <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400">
                                    <i data-lucide="bar-chart-3" class="w-5 h-5"></i>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm text-green-600 dark:text-green-400 font-semibold">+156</p>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Total Videos</p>
                            <p class="text-3xl font-bold text-gray-900 dark:text-white">1,247</p>
                        </div>
                        <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400">
                                    <i data-lucide="trending-up" class="w-5 h-5"></i>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm text-green-600 dark:text-green-400 font-semibold">+2.3%</p>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Overall Accuracy</p>
                            <p class="text-3xl font-bold text-gray-900 dark:text-white">45.0%</p>
                        </div>
                        <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400">
                                    <i data-lucide="activity" class="w-5 h-5"></i>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm text-green-600 dark:text-green-400 font-semibold">-0.5s</p>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mb-1">Avg Latency</p>
                            <p class="text-3xl font-bold text-gray-900 dark:text-white">3.0s</p>
                        </div>
                    </div>

                    <!-- Charts -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                        <!-- Model Usage Chart -->
                        <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-6">
                            <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Model Usage Distribution</h2>
                            <div class="h-64 flex items-center justify-center">
                                <canvas id="modelUsageChart" width="300" height="200"></canvas>
                            </div>
                        </div>

                        <!-- Accuracy Trend -->
                        <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-6">
                            <h2 class="text-xl font-semibold text-gray-900 dark:text-white mb-6">Accuracy Trend</h2>
                            <div class="h-64 flex items-center justify-center">
                                <canvas id="accuracyChart" width="300" height="200"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Model Performance -->
                    <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-8">
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">Specialist Model Performance</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-4">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center text-white text-sm font-bold">BG</div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900 dark:text-white">Baseline Generalist</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">General purpose model</p>
                                    </div>
                                </div>
                                <p class="text-lg font-semibold text-gray-900 dark:text-white">86.25% accuracy</p>
                            </div>
                            <div class="bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-4">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center text-white text-sm font-bold">CM</div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900 dark:text-white">Compression Specialist</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Low bitrate detection</p>
                                    </div>
                                </div>
                                <p class="text-lg font-semibold text-gray-900 dark:text-white">80.83% accuracy</p>
                            </div>
                            <div class="bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-4">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center text-white text-sm font-bold">RR</div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900 dark:text-white">Re-recording Specialist</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Screen recording detection</p>
                                    </div>
                                </div>
                                <p class="text-lg font-semibold text-gray-900 dark:text-white">85.0% accuracy</p>
                            </div>
                            <div class="bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-4">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center text-white text-sm font-bold">LL</div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900 dark:text-white">Low-light Specialist</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Dark video enhancement</p>
                                    </div>
                                </div>
                                <p class="text-lg font-semibold text-gray-900 dark:text-white">93.42% accuracy</p>
                            </div>
                            <div class="bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-4">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center text-white text-sm font-bold">TM</div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900 dark:text-white">Temporal Specialist</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Frame consistency analysis</p>
                                    </div>
                                </div>
                                <p class="text-lg font-semibold text-gray-900 dark:text-white">85.0% accuracy</p>
                            </div>
                            <div class="bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-4">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center text-white text-sm font-bold">AV</div>
                                    <div>
                                        <p class="text-sm font-medium text-gray-900 dark:text-white">Audio-Visual Specialist</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">Lip-sync analysis</p>
                                    </div>
                                </div>
                                <p class="text-lg font-semibold text-gray-900 dark:text-white">93.0% accuracy</p>
                            </div>
                        </div>
                    </div>

                    <!-- Real-time Metrics -->
                    <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-8 mt-8">
                        <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">Real-time Metrics</h2>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                            <div class="bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-4">
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Real Accuracy</p>
                                <p class="text-2xl font-bold text-gray-900 dark:text-white">54%</p>
                            </div>
                            <div class="bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-4">
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Fake Accuracy</p>
                                <p class="text-2xl font-bold text-gray-900 dark:text-white">36%</p>
                            </div>
                            <div class="bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-4">
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">F1-Score</p>
                                <p class="text-2xl font-bold text-gray-900 dark:text-white">0.396</p>
                            </div>
                            <div class="bg-gray-50/50 dark:bg-gray-800/50 backdrop-blur-md rounded-xl p-4">
                                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Bias Gap</p>
                                <p class="text-2xl font-bold text-gray-900 dark:text-white">18%</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Contact Page -->
        <div id="contact-page" class="page-content hidden">
            <div class="min-h-screen pt-32 pb-20">
                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
                    <!-- Header -->
                    <div class="mb-12 text-center">
                        <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">Contact Us</h1>
                        <p class="text-gray-600 dark:text-gray-400">
                            Get in touch with our team for support, questions, or collaboration opportunities
                        </p>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                        <!-- Contact Form -->
                        <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-8">
                            <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">Send us a message</h2>
                            <form class="space-y-6">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Name</label>
                                    <input type="text" class="w-full px-4 py-3 bg-white/50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email</label>
                                    <input type="email" class="w-full px-4 py-3 bg-white/50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Subject</label>
                                    <input type="text" class="w-full px-4 py-3 bg-white/50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Message</label>
                                    <textarea rows="4" class="w-full px-4 py-3 bg-white/50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"></textarea>
                                </div>
                                <button type="submit" class="w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors shadow-lg">
                                    Send Message
                                </button>
                            </form>
                        </div>

                        <!-- Contact Info -->
                        <div class="space-y-8">
                            <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-6">
                                <div class="flex items-center gap-4 mb-4">
                                    <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400">
                                        <i data-lucide="mail" class="w-6 h-6"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Email</h3>
                                        <p class="text-gray-600 dark:text-gray-400">contact@eraksha.ai</p>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-6">
                                <div class="flex items-center gap-4 mb-4">
                                    <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400">
                                        <i data-lucide="github" class="w-6 h-6"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">GitHub</h3>
                                        <p class="text-gray-600 dark:text-gray-400">github.com/eraksha-ai</p>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white/50 dark:bg-gray-900/50 backdrop-blur-md border border-gray-200 dark:border-gray-800 rounded-2xl p-6">
                                <div class="flex items-center gap-4 mb-4">
                                    <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400">
                                        <i data-lucide="users" class="w-6 h-6"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Team</h3>
                                        <p class="text-gray-600 dark:text-gray-400">4-person collaborative project</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Project Info -->
                            <div class="bg-gradient-to-r from-blue-600 to-blue-700 dark:from-blue-700 dark:to-blue-800 rounded-2xl p-6 text-white">
                                <h3 class="text-lg font-semibold mb-2">About E-Raksha</h3>
                                <p class="text-blue-100 text-sm">
                                    An advanced agentic AI system for deepfake detection, featuring multiple specialist models working together to provide comprehensive video authenticity analysis.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentTheme = 'light';
        let selectedFile = null;
        let analysisHistory = [];
        let totalVideosAnalyzed = 1247;

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            lucide.createIcons();
            initializeTheme();
            initializeFileUpload();
            initializeCharts();
            loadAnalysisHistory();
            updateStats();
        });

        // Theme management
        function initializeTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            currentTheme = savedTheme;
            applyTheme();
        }

        function toggleTheme() {
            currentTheme = currentTheme === 'light' ? 'dark' : 'light';
            localStorage.setItem('theme', currentTheme);
            applyTheme();
        }

        function applyTheme() {
            const root = document.documentElement;
            
            if (currentTheme === 'dark') {
                root.classList.add('dark');
                document.querySelector('.theme-icon-light').classList.add('hidden');
                document.querySelector('.theme-icon-dark').classList.remove('hidden');
                
                // Update background gradient for dark theme
                document.body.style.background = 'linear-gradient(135deg, #0f172a 0%, #1e3a8a 50%, #581c87 100%)';
            } else {
                root.classList.remove('dark');
                document.querySelector('.theme-icon-light').classList.remove('hidden');
                document.querySelector('.theme-icon-dark').classList.add('hidden');
                
                // Update background gradient for light theme
                document.body.style.background = 'linear-gradient(135deg, #f0f4ff 0%, #e0f2fe 50%, #ecfeff 100%)';
            }
        }

        // Navigation
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page-content').forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show selected page
            document.getElementById(pageId + '-page').classList.remove('hidden');
            
            // Update navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('text-blue-600', 'dark:text-blue-400');
                link.style.color = 'var(--muted-foreground)';
            });
            
            // Set active link
            if (event && event.target) {
                event.target.classList.add('text-blue-600', 'dark:text-blue-400');
                event.target.style.color = 'var(--primary)';
            }
        }
        // File upload functionality
        function initializeFileUpload() {
            const dropZone = document.getElementById('drop-zone');
            const fileInput = document.getElementById('video-input');
            
            // Drag and drop handlers
            dropZone.addEventListener('dragenter', handleDragEnter);
            dropZone.addEventListener('dragover', handleDragOver);
            dropZone.addEventListener('dragleave', handleDragLeave);
            dropZone.addEventListener('drop', handleDrop);
            
            // File input handler
            fileInput.addEventListener('change', handleFileSelect);
        }

        function handleDragEnter(e) {
            e.preventDefault();
            e.stopPropagation();
            document.getElementById('drop-zone').classList.add('border-blue-500', 'bg-blue-50/50', 'dark:bg-blue-900/20');
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        function handleDragLeave(e) {
            e.preventDefault();
            e.stopPropagation();
            document.getElementById('drop-zone').classList.remove('border-blue-500', 'bg-blue-50/50', 'dark:bg-blue-900/20');
        }

        function handleDrop(e) {
            e.preventDefault();
            e.stopPropagation();
            document.getElementById('drop-zone').classList.remove('border-blue-500', 'bg-blue-50/50', 'dark:bg-blue-900/20');
            
            const files = e.dataTransfer.files;
            if (files && files[0]) {
                handleFileSelection(files[0]);
            }
        }

        function handleFileSelect(e) {
            const files = e.target.files;
            if (files && files[0]) {
                handleFileSelection(files[0]);
            }
        }

        function handleFileSelection(file) {
            selectedFile = file;
            
            // Update UI
            document.getElementById('upload-content').classList.add('hidden');
            document.getElementById('file-selected').classList.remove('hidden');
            document.getElementById('file-name').textContent = file.name;
            document.getElementById('file-size').textContent = (file.size / (1024 * 1024)).toFixed(2) + ' MB';
            
            // Enable analyze button
            const analyzeBtn = document.getElementById('analyze-btn');
            analyzeBtn.disabled = false;
            analyzeBtn.classList.remove('bg-gray-300', 'dark:bg-gray-700', 'text-gray-500', 'dark:text-gray-400', 'cursor-not-allowed');
            analyzeBtn.classList.add('bg-blue-600', 'hover:bg-blue-700', 'text-white', 'cursor-pointer');
            
            // Show clear button
            document.getElementById('clear-btn').classList.remove('hidden');
        }

        function clearSelection() {
            selectedFile = null;
            
            // Reset UI
            document.getElementById('upload-content').classList.remove('hidden');
            document.getElementById('file-selected').classList.add('hidden');
            document.getElementById('video-input').value = '';
            
            // Disable analyze button
            const analyzeBtn = document.getElementById('analyze-btn');
            analyzeBtn.disabled = true;
            analyzeBtn.classList.add('bg-gray-300', 'dark:bg-gray-700', 'text-gray-500', 'dark:text-gray-400', 'cursor-not-allowed');
            analyzeBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700', 'text-white', 'cursor-pointer');
            
            // Hide clear button
            document.getElementById('clear-btn').classList.add('hidden');
        }

        // Analysis functionality
        async function analyzeVideo() {
            if (!selectedFile) return;
            
            // Show processing section
            document.getElementById('upload-section').classList.add('hidden');
            document.getElementById('processing-section').classList.remove('hidden');
            
            // Simulate analysis process
            await simulateAnalysis();
        }

        async function simulateAnalysis() {
            const steps = [
                { progress: 10, status: 'Analyzing video characteristics...', details: 'Extracting metadata and video properties' },
                { progress: 25, status: 'Extracting frames and audio...', details: 'Processing 8 frames for analysis' },
                { progress: 40, status: 'Running baseline inference...', details: 'BG-Model processing frames' },
                { progress: 55, status: 'Intelligent routing...', details: 'Determining specialist models to use' },
                { progress: 70, status: 'Running specialist models...', details: 'CM, RR, LL, TM models analyzing' },
                { progress: 85, status: 'Aggregating predictions...', details: 'Applying bias correction and weighting' },
                { progress: 100, status: 'Analysis complete!', details: 'Generating detailed report' }
            ];
            
            for (const step of steps) {
                await new Promise(resolve => setTimeout(resolve, 500));
                updateProgress(step.progress, step.status, step.details);
            }
            
            // Generate mock results
            const mockResult = generateMockResult();
            displayResults(mockResult);
        }

        function updateProgress(progress, status, details) {
            document.getElementById('progress-bar').style.width = progress + '%';
            document.getElementById('progress-percent').textContent = progress + '%';
            document.getElementById('processing-status').textContent = status;
            document.getElementById('processing-details').textContent = details;
        }

        function generateMockResult() {
            const predictions = ['real', 'fake'];
            const models = ['cm', 'rr', 'll', 'tm', 'student'];
            const specialists = ['CM', 'RR', 'LL', 'TM'];
            
            const prediction = predictions[Math.floor(Math.random() * predictions.length)];
            const confidence = 0.5 + Math.random() * 0.4; // 50-90%
            const bestModel = models[Math.floor(Math.random() * models.length)];
            const processingTime = 2 + Math.random() * 3; // 2-5 seconds
            
            const modelPredictions = {};
            models.forEach(model => {
                modelPredictions[model] = {
                    prediction: Math.random(),
                    confidence: 0.5 + Math.random() * 0.4
                };
            });
            
            const specialistsUsed = specialists.slice(0, Math.floor(Math.random() * 3) + 2);
            
            return {
                success: true,
                prediction: prediction,
                confidence: confidence,
                best_model: bestModel,
                processing_time: processingTime,
                specialists_used: specialistsUsed,
                all_predictions: modelPredictions,
                explanation: generateExplanation(prediction, confidence, bestModel, specialistsUsed),
                filename: selectedFile.name,
                timestamp: new Date().toISOString()
            };
        }

        function generateExplanation(prediction, confidence, bestModel, specialists) {
            const modelNames = {
                'student': 'baseline generalist model',
                'cm': 'compression specialist',
                'rr': 're-recording specialist',
                'll': 'low-light specialist',
                'tm': 'temporal specialist'
            };
            
            let explanation = `This video is classified as ${prediction.toUpperCase()} with ${(confidence * 100).toFixed(1)}% confidence. `;
            explanation += `Primary analysis by ${modelNames[bestModel] || bestModel}. `;
            
            if (specialists.length > 0) {
                explanation += `Specialist models engaged: ${specialists.join(', ')}. `;
            }
            
            if (prediction === 'fake') {
                explanation += 'Detected inconsistencies suggest potential manipulation.';
            } else {
                explanation += 'No significant artifacts or inconsistencies detected.';
            }
            
            return explanation;
        }
        function displayResults(result) {
            // Hide processing, show results
            document.getElementById('processing-section').classList.add('hidden');
            document.getElementById('results-section').classList.remove('hidden');
            
            // Update result icon and text
            const resultIcon = document.getElementById('result-icon');
            const predictionText = document.getElementById('prediction-text');
            
            if (result.prediction === 'fake') {
                resultIcon.className = 'w-16 h-16 rounded-full flex items-center justify-center bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400';
                resultIcon.innerHTML = '<i data-lucide="x-circle" class="w-8 h-8"></i>';
            } else {
                resultIcon.className = 'w-16 h-16 rounded-full flex items-center justify-center bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400';
                resultIcon.innerHTML = '<i data-lucide="check-circle-2" class="w-8 h-8"></i>';
            }
            
            predictionText.textContent = result.prediction;
            
            // Update stats
            document.getElementById('confidence-value').textContent = (result.confidence * 100).toFixed(1) + '%';
            document.getElementById('best-model').textContent = result.best_model.toUpperCase();
            document.getElementById('specialists-count').textContent = result.specialists_used.length;
            document.getElementById('processing-time').textContent = result.processing_time.toFixed(1) + 's';
            
            // Update model predictions
            const modelPredictions = document.getElementById('model-predictions');
            modelPredictions.innerHTML = '';
            
            Object.entries(result.all_predictions).forEach(([model, data]) => {
                const div = document.createElement('div');
                div.className = 'flex justify-between items-center';
                div.innerHTML = `
                    <span class="text-sm text-gray-600 dark:text-gray-400">${model.toUpperCase()}-Model</span>
                    <div class="flex items-center gap-2">
                        <span class="text-sm text-gray-900 dark:text-white">${(data.prediction * 100).toFixed(1)}%</span>
                        <div class="w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                            <div class="bg-blue-500 h-2 rounded-full" style="width: ${data.confidence * 100}%"></div>
                        </div>
                    </div>
                `;
                modelPredictions.appendChild(div);
            });
            
            // Update explanation
            document.getElementById('explanation-text').textContent = result.explanation;
            
            // Update specialists list
            const specialistsList = document.getElementById('specialists-list');
            specialistsList.innerHTML = '';
            
            result.specialists_used.forEach(specialist => {
                const span = document.createElement('span');
                span.className = 'inline-flex px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400';
                span.textContent = specialist + '-Model';
                specialistsList.appendChild(span);
            });
            
            // Add to history
            analysisHistory.unshift(result);
            totalVideosAnalyzed++;
            updateStats();
            updateAnalysisHistory();
            
            // Recreate icons
            lucide.createIcons();
        }

        function newAnalysis() {
            // Reset to upload section
            document.getElementById('results-section').classList.add('hidden');
            document.getElementById('upload-section').classList.remove('hidden');
            clearSelection();
        }

        // Statistics and history
        function updateStats() {
            document.getElementById('total-videos').textContent = totalVideosAnalyzed.toLocaleString();
            document.getElementById('dashboard-total-videos').textContent = totalVideosAnalyzed.toLocaleString();
        }

        function loadAnalysisHistory() {
            // Generate some mock history
            const mockHistory = [
                { filename: 'interview_video.mp4', timestamp: '2 hours ago', prediction: 'real', confidence: 0.92, best_model: 'cm' },
                { filename: 'news_clip.mov', timestamp: '5 hours ago', prediction: 'fake', confidence: 0.78, best_model: 'll' },
                { filename: 'presentation.webm', timestamp: '1 day ago', prediction: 'real', confidence: 0.85, best_model: 'student' },
                { filename: 'social_media.mp4', timestamp: '2 days ago', prediction: 'fake', confidence: 0.91, best_model: 'tm' }
            ];
            
            analysisHistory = mockHistory;
            updateAnalysisHistory();
        }

        function updateAnalysisHistory() {
            const tbody = document.getElementById('analysis-history');
            tbody.innerHTML = '';
            
            analysisHistory.slice(0, 10).forEach(analysis => {
                const row = document.createElement('tr');
                row.className = 'border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50/50 dark:hover:bg-gray-800/50 transition-colors';
                
                const predictionClass = analysis.prediction === 'fake' 
                    ? 'bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400'
                    : 'bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400';
                
                row.innerHTML = `
                    <td class="py-4 px-4">
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center">
                                <i data-lucide="file-video" class="w-4 h-4 text-blue-600 dark:text-blue-400"></i>
                            </div>
                            <span class="text-gray-900 dark:text-white text-sm">${analysis.filename}</span>
                        </div>
                    </td>
                    <td class="py-4 px-4 text-sm text-gray-600 dark:text-gray-400">${analysis.timestamp}</td>
                    <td class="py-4 px-4">
                        <span class="inline-flex px-3 py-1 rounded-full text-xs font-semibold ${predictionClass}">
                            ${analysis.prediction}
                        </span>
                    </td>
                    <td class="py-4 px-4 text-sm text-gray-900 dark:text-white">${(analysis.confidence * 100).toFixed(1)}%</td>
                    <td class="py-4 px-4 text-sm text-gray-900 dark:text-white">${analysis.best_model.toUpperCase()}</td>
                    <td class="py-4 px-4">
                        <button class="text-sm text-blue-600 dark:text-blue-400 hover:underline">View</button>
                    </td>
                `;
                
                tbody.appendChild(row);
            });
            
            // Recreate icons
            lucide.createIcons();
        }

        // Charts
        function initializeCharts() {
            // Model Usage Chart
            const modelCtx = document.getElementById('modelUsageChart');
            if (modelCtx) {
                new Chart(modelCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['CM-Model', 'LL-Model', 'RR-Model', 'TM-Model', 'Student'],
                        datasets: [{
                            data: [89, 8, 2, 1, 0],
                            backgroundColor: [
                                '#3B82F6',
                                '#10B981',
                                '#F59E0B',
                                '#EF4444',
                                '#8B5CF6'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        }
                    }
                });
            }
            
            // Accuracy Trend Chart
            const accuracyCtx = document.getElementById('accuracyChart');
            if (accuracyCtx) {
                new Chart(accuracyCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May'],
                        datasets: [{
                            label: 'Overall Accuracy',
                            data: [38, 41, 43, 44, 45],
                            borderColor: '#3B82F6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.4
                        }, {
                            label: 'Real Accuracy',
                            data: [45, 48, 51, 53, 54],
                            borderColor: '#10B981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            tension: 0.4
                        }, {
                            label: 'Fake Accuracy',
                            data: [31, 34, 35, 35, 36],
                            borderColor: '#EF4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100
                            }
                        }
                    }
                });
            }
        }
    </script>
</body>
</html>